# Activity Summary for 10/15/2025

## 8:19:23 AM
The file `/Users/mmuruts/projects/tink/transaction-service/docs/MIGRATION_USAGE_GUIDE.md`, updated on 10/15/2025, 7:25:20 AM, introduces a comprehensive guide for migrating transaction data from a Cassandra V1 cluster (`bigdb`) to a Cassandra V2 cluster (`bigdbt`). The core change involves moving data from a single `transactions_by_userid_period` table in V1 to quarterly-partitioned `transactions_by_userid_period_YYYYQ` tables in V2.

The document details the architecture, prerequisites (including Go 1.21+ and pre-existing V2 tables), and instructions for building a Go-based migration tool. It provides extensive usage examples for the `migrate-v1-to-v2` tool, covering:
*   Connection validation only.
*   Counting records for a specific quarter.
*   Performing a dry run (without writing to V2).
*   Migrating data for a single quarter or a range of years.
*   Handling TLS-enabled clusters with certificate paths.

Key configuration options are listed, including flags for V1 and V2 cluster hosts, ports, keyspaces, usernames, and TLS settings. Migration-specific flags like `--start-year`, `--end-year`, `--year`, `--quarter`, `--batch-size`, `--dry-run`, and default values for transaction status and source are also specified. Passwords are consistently noted to be supplied via environment variables (`V1_PASSWORD`, `V2_PASSWORD`).

A three-phase migration strategy is outlined:
1.  **Validation and Dry Run**: Emphasizing testing connections, counting records, and dry-running for a quarter.
2.  **Migrate Historical Data**: Recommending chronological order and suggesting parallel execution of quarterly migrations using tools like `tmux` or `GNU parallel`.
3.  **Verification**: Using `cqlsh` commands to compare record counts and sample data between V1 and V2.

The guide also includes sections on performance tuning (batch size recommendations, parallel execution) and monitoring tools (`tail`, `nodetool`, `iftop`). Recurring patterns in the content include the explicit distinction between V1 and V2 Cassandra clusters, the use of `tink` as the keyspace, and a strong emphasis on quarterly data processing and migration.